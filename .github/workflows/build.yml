name: Validate BLE Spam Structure

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  validate:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Check file structure
      run: |
        echo "üìÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤..."
        echo "–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è:"
        pwd
        ls -la
        
        echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:"
        [ -f "ble_spam.c" ] && echo "‚úÖ ble_spam.c –Ω–∞–π–¥–µ–Ω" || echo "‚ùå ble_spam.c –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        [ -f "ble_spam.h" ] && echo "‚úÖ ble_spam.h –Ω–∞–π–¥–µ–Ω" || echo "‚ùå ble_spam.h –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        [ -f "application.fam" ] && echo "‚úÖ application.fam –Ω–∞–π–¥–µ–Ω" || echo "‚ùå application.fam –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        
        echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–ø–æ–∫:"
        [ -d "scenes" ] && echo "‚úÖ scenes –Ω–∞–π–¥–µ–Ω–∞" || echo "‚ùå scenes –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        [ -d "protocols" ] && echo "‚úÖ protocols –Ω–∞–π–¥–µ–Ω–∞" || echo "‚ùå protocols –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        [ -d "assets" ] && echo "‚úÖ assets –Ω–∞–π–¥–µ–Ω–∞" || echo "‚ùå assets –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        [ -d "icons" ] && echo "‚úÖ icons –Ω–∞–π–¥–µ–Ω–∞" || echo "‚ùå icons –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
        
    - name: List all files
      run: |
        echo "üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤:"
        find . -type f -name "*.c" -o -name "*.h" -o -name "*.fam" -o -name "*.txt" | sort
