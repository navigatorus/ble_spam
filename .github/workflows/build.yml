name: Check BLE Spam Compatibility

on:
  workflow_dispatch:

jobs:
  check:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
      
    - name: Analyze dependencies
      run: |
        echo "üîç –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π BLE Spam:"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
        echo "–ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –∫–æ–¥–µ:"
        grep -h "#include" *.c scenes/*.c protocols/*.c | sort | uniq | head -20
        
        echo ""
        echo "–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:"
        grep -h "#include" *.c scenes/*.c protocols/*.c | grep -v "ble_spam" | grep -v "furi" | sort | uniq
        
        echo ""
        echo "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:"
        echo "–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç Xtreme Firmware –¥–ª—è —Å–±–æ—Ä–∫–∏"
        echo "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—à–∏–≤–∫—É —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π BLE Spam"
